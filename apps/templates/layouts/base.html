{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Favicon para tema claro -->
    <link rel="icon" type="image/png" href="{{ ASSETS_ROOT }}/img/light-favicon.png"
        media="(prefers-color-scheme: light)">

    <!-- Favicon para tema escuro -->
    <link rel="icon" type="image/png" href="{{ ASSETS_ROOT }}/img/dark-favicon.png"
        media="(prefers-color-scheme: dark)">

    <title>
        PizzazZ - {% block title %}{% endblock %}
    </title>

    <!--     Fonts and icons     -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Manrope:wght@200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/2c7dc414d4.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/css/nucleo-icons.css' %}">

    <!-- CSS Files -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.min.js"></script>
    <link type="text/css" href="{{ ASSETS_ROOT }}/css/core.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/css/sweetalert2.min.css' %}">
    <script src="{% static 'assets/js/plugins/sweetalert2.min.js' %}"></script>
    <script src="{% static 'js/alert-messages.js' %}"></script>

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="{% static 'assets/js/plugins/tilt.min.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://js.sentry-cdn.com/07214851f9cbcf601d93fe8e78a1b554.min.js" crossorigin="anonymous"></script>
    <script>
        function darkMode() {
        const checkbox = document.getElementById("dark-version");
    
        // Verificar o tema do dispositivo (usando matchMedia)
        const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
    
        // Verificar se o usuário já salvou um tema no localStorage
        const savedTheme = localStorage.getItem("theme");
    
        // Definir o tema inicial com base no dispositivo ou no localStorage
        if (savedTheme === "dark" || (savedTheme !== "light" && prefersDarkScheme)) {
            document.body.classList.add("dark-version");
            checkbox.checked = true;
        } else {
            document.body.classList.remove("dark-version");
            checkbox.checked = false;
        }
    
        // Adicionar um listener para alternar o tema quando o usuário clicar no checkbox
        checkbox.addEventListener("change", function() {
            if (this.checked) {
                document.body.classList.add("dark-version");
                localStorage.setItem("theme", "dark");
            } else {
                document.body.classList.remove("dark-version");
                localStorage.setItem("theme", "light");
            }
        });
    
        // Detectar se o tema do sistema mudar enquanto a página estiver aberta
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
            if (!localStorage.getItem("theme")) {
                // Se o usuário não tiver escolhido um tema manualmente, atualizar conforme a preferência do sistema
                if (e.matches) {
                    document.body.classList.add("dark-version");
                    checkbox.checked = true;
                } else {
                    document.body.classList.remove("dark-version");
                    checkbox.checked = false;
                }
            }
        });
    }
    
    // Inicializar o tema quando a página carregar
    document.addEventListener("DOMContentLoaded", function() {
        darkMode();
    });
    
    </script>


    {% block stylesheets %}{% endblock stylesheets %}
    <style>
        /* Estilo para a seleção de texto */
::selection {
    background-color: #E53935;
    color: #fff;
}

/* Para o navegador Internet Explorer e Edge */
::-moz-selection {
    background-color: #E53935;
    color: #fff;
}
    </style>
</head>

<body class="lexend" cz-shortcut-listen="true">


    {% block content %} {% endblock %}



    {% include 'includes/scripts.html' %}

    {% block javascripts %}{% endblock javascripts %}
    
</body>

</html>